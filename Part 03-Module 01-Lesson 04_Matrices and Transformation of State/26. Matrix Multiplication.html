<!-- udacimak v1.6.6 -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Matrix Multiplication</title>
  <link rel="stylesheet" href="../assets/css/bootstrap.min.css">
  <link rel="stylesheet" href="../assets/css/plyr.css">
  <link rel="stylesheet" href="../assets/css/katex.min.css">
  <link rel="stylesheet" href="../assets/css/jquery.mCustomScrollbar.min.css">
  <link rel="stylesheet" href="../assets/css/styles.css">
  <link rel="shortcut icon" type="image/png" href="../assets/img/udacimak.png" />
</head>

<body>
  <div class="wrapper">
    <nav id="sidebar">
  <div class="sidebar-header">
    <h3>Matrices and Transformation of State</h3>
  </div>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled components">
    <li class="">
      <a href="01. Connection to Kalman Filters.html">01. Connection to Kalman Filters</a>
    </li>
    <li class="">
      <a href="02. Kalman Prediction.html">02. Kalman Prediction</a>
    </li>
    <li class="">
      <a href="03. Kalman Filter Land.html">03. Kalman Filter Land</a>
    </li>
    <li class="">
      <a href="04. Kalman Filter Prediction.html">04. Kalman Filter Prediction</a>
    </li>
    <li class="">
      <a href="05. Another Prediction.html">05. Another Prediction</a>
    </li>
    <li class="">
      <a href="06. More Kalman Filters.html">06. More Kalman Filters</a>
    </li>
    <li class="">
      <a href="07. A Note on Notation.html">07. A Note on Notation</a>
    </li>
    <li class="">
      <a href="08. Kalman Filter Design.html">08. Kalman Filter Design</a>
    </li>
    <li class="">
      <a href="09. Let&#x27;s Look at Where we Are.html">09. Let&#x27;s Look at Where we Are</a>
    </li>
    <li class="">
      <a href="10. The Kalman Filter Equations.html">10. The Kalman Filter Equations</a>
    </li>
    <li class="">
      <a href="11. Simplifying the Kalman Filter Equations.html">11. Simplifying the Kalman Filter Equations</a>
    </li>
    <li class="">
      <a href="12. The Rest of the Lesson.html">12. The Rest of the Lesson</a>
    </li>
    <li class="">
      <a href="13. Representing State with Matrices.html">13. Representing State with Matrices</a>
    </li>
    <li class="">
      <a href="14. Kalman Equation Reference.html">14. Kalman Equation Reference</a>
    </li>
    <li class="">
      <a href="15. What is a vector.html">15. What is a vector?</a>
    </li>
    <li class="">
      <a href="16. Vectors in Python.html">16. Vectors in Python</a>
    </li>
    <li class="">
      <a href="17. Coding Vectors.html">17. Coding Vectors</a>
    </li>
    <li class="">
      <a href="18. Coding Vectors (solution).html">18. Coding Vectors (solution)</a>
    </li>
    <li class="">
      <a href="19. Guide to Mathematical Notation.html">19. Guide to Mathematical Notation</a>
    </li>
    <li class="">
      <a href="20. Matrices in Python.html">20. Matrices in Python</a>
    </li>
    <li class="">
      <a href="21. Coding Matrices.html">21. Coding Matrices</a>
    </li>
    <li class="">
      <a href="22. Coding Matrices (Solution).html">22. Coding Matrices (Solution)</a>
    </li>
    <li class="">
      <a href="23. Matrix Addition.html">23. Matrix Addition</a>
    </li>
    <li class="">
      <a href="24. Coding Matrix Addition.html">24. Coding Matrix Addition</a>
    </li>
    <li class="">
      <a href="25. Coding Matrix Addition (Solution).html">25. Coding Matrix Addition (Solution)</a>
    </li>
    <li class="">
      <a href="26. Matrix Multiplication.html">26. Matrix Multiplication</a>
    </li>
    <li class="">
      <a href="27. Coding Matrix Multiplication.html">27. Coding Matrix Multiplication</a>
    </li>
    <li class="">
      <a href="28. Coding Matrix Multiplication (Solution).html">28. Coding Matrix Multiplication (Solution)</a>
    </li>
    <li class="">
      <a href="29. Transpose of a Matrix.html">29. Transpose of a Matrix</a>
    </li>
    <li class="">
      <a href="30. Coding the Transpose.html">30. Coding the Transpose</a>
    </li>
    <li class="">
      <a href="31. Coding the Transpose (Solution).html">31. Coding the Transpose (Solution)</a>
    </li>
    <li class="">
      <a href="32. The Identity Matrix.html">32. The Identity Matrix</a>
    </li>
    <li class="">
      <a href="33. Coding Identity Matrix.html">33. Coding Identity Matrix</a>
    </li>
    <li class="">
      <a href="34. Coding Identity Matrix (Solution).html">34. Coding Identity Matrix (Solution)</a>
    </li>
    <li class="">
      <a href="35. Matrix Inverse.html">35. Matrix Inverse</a>
    </li>
    <li class="">
      <a href="36. Coding Matrix Inverse.html">36. Coding Matrix Inverse</a>
    </li>
    <li class="">
      <a href="37. Coding Matrix Inverse (Solution).html">37. Coding Matrix Inverse (Solution)</a>
    </li>
    <li class="">
      <a href="38. What to Take Away from this Lesson.html">38. What to Take Away from this Lesson</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>
</nav>

    <div id="content">
      <header class="container-fluild header">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <div class="align-items-middle">
                <button type="button" id="sidebarCollapse" class="btn btn-toggle-sidebar">
                  <div></div>
                  <div></div>
                  <div></div>
                </button>

                <h1 style="display: inline-block">26. Matrix Multiplication</h1>
              </div>
            </div>
          </div>
        </div>
      </header>

      <main class="container">
        <div class="row">
          <div class="col-12">
            <div class="ud-atom">
  <h3></h3>
  <div>
  <h1 id="matrix-multiplication">Matrix Multiplication</h1>
<p>The Kalman filter equations have many matrix multiplication operations. Actually, every equation involves a matrix multiplication operation.</p>
<p>Matrix multiplication is different than matrix addition or subtraction. In matrix addition, you took an element from the first matrix, found the matching element in the second matrix, and outputted the sum.</p>
<p>You can multiply matching elements in a matrix as well, but that is called element-wise multiplication. Matrix multiplication is a different operation. And matrix multiplication is trickier to code.</p>
<p>Multiplication of Matrix <br />
<span class="mathquill ud-math">\mathbf{A}</span><br />
 with matrix <br />
<span class="mathquill ud-math">\mathbf{B}</span> is only possible if the number of columns in <br />
<span class="mathquill ud-math">\mathbf{A}</span> is equal to the number of rows in<br />
<span class="mathquill ud-math">\mathbf{B}</span>. So if matrix <span class="mathquill ud-math">\mathbf{A}</span> is <br />
<span class="mathquill ud-math">m \times n</span>, then <span class="mathquill ud-math">\mathbf{B}</span> needs to be <span class="mathquill ud-math">n \times p</span>. The values for <span class="mathquill ud-math">m</span> and <span class="mathquill ud-math">p</span> can be any positive integer. </p>
<p>The result of <span class="mathquill ud-math">\mathbf{A} \times \mathbf{B}</span> is a matrix of size <span class="mathquill ud-math">m \times p</span>.</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h3 id="formal-definition-of-matrix-multiplication">Formal Definition of Matrix Multiplication</h3>
<p>Here is the formal equation for multiplying two matrices together:</p>
<p><span class="mathquill ud-math">(\mathbf{AB})<em>{ij} = \sum</em>{k=1}^n a_{ik}b_{kj}</span></p>
<p>All this is saying is that to find the element (i,j) in the resulting matrix, you need to</p>
<ul>
<li>take row i in matrix A, column j in matrix B</li>
<li>do element-wise multiplication on the i-row A vector and j-column B vector </li>
<li>sum the resulting elements</li>
</ul>
<p>But you have already done element-wise multiplication and then summed the resulting elements of two vectors. That was the definition of the dot product in the vectors part of the lesson! Think of a matrix row as a vector and a matrix column also as a vector; you already wrote code for calculating the dot product.</p>
<p>So you are already part way done with coding matrix multiplication!</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <p>Let's go through a concrete example to see how matrix multiplication works. The two matrices being multiplied are:</p>
<p><span class="mathquill ud-math">\begin{bmatrix}17 & 25 & 6 & 2 \\6 & 1 & 97 & 4 \\80 & 8 & 54 & 15\end{bmatrix} \times\begin{bmatrix}3 & 14 & 1 & 7 & 42 & 5 \\32 & 11 & 2 & 4 & 18 & 17 \\19 & 81 & 4 & 8 & 5 & 10 \\27 & 2 & 3 & 6 & 7 & 3\end{bmatrix}= \begin{bmatrix}1019 & 1003 & 97 & 279 &  1208 & 576 \\2001 & 7960 & 408 & 846 & 783 & 1029 \\1927 & 5612 & 357 & 1114 & 3879 & 1121\end{bmatrix}</span></p>
<p>Note that matrix <span class="mathquill ud-math">\mathbf{A}</span> has three rows and four columns (3 x 4) and matrix <span class="mathquill ud-math">\mathbf{B}</span> has four rows and six columns (4 x 6). So the output is a 3 x 6 matrix. </p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <p>Where did the number 1019 come from in row one, column one? According to the formula for matrix multiplication, it came from element-wise multiplication of the first row of matrix <span class="mathquill ud-math">\mathbf{A}</span> with the first column of matrix <span class="mathquill ud-math">\mathbf{B}</span>.</p>
<p>Thus you calculate the dot product of row one of A and column one of B. The dot product involves element-wise multiplication and then summing the results:</p>
<p><span class="mathquill ud-math">\begin{bmatrix}17 & 25 & 6 & 2 \end{bmatrix}\cdot\begin{bmatrix}3 & 32 & 19 & 27\end{bmatrix}</span></p>
<p><span class="mathquill ud-math">= 17 \times 3  + 25 \times 32 + 6 \times 19 + 2 \times 27</span><br />
<span class="mathquill ud-math">= 1019</span></p>
<p>See the illustration below to see what is happening in more detail:</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <figure class="figure">
    <img src="img/matrix-multiplication-step1.png" alt="" class="img img-fluid">
    <figcaption class="figure-caption">
      
    </figcaption>
  </figure>
</div>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <p>How would you calculate the value in row one, column two?</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>Row one Column two</p></h3>
  <div>
  <form>
    <fieldset>
      <legend><p>How would you calculate the result in row one, column two?</p></legend>
    </fieldset>

      <div>
        <input type="radio" value="a1505341308449" name="395842" id="a1505341308449">
        <label for="a1505341308449"><p>Take row one of A, column two of B, and calculate the dot product</p></label>
      </div>
      <div>
        <input type="radio" value="a1505341671146" name="395842" id="a1505341671146">
        <label for="a1505341671146"><p>Take row two of A, column one of B, and calculate the dot product</p></label>
      </div>
      <div>
        <input type="radio" value="a1505341671825" name="395842" id="a1505341671825">
        <label for="a1505341671825"><p>Take row one of A, column two of A, and calculate the dot product</p></label>
      </div>
      <div>
        <input type="radio" value="a1505341672337" name="395842" id="a1505341672337">
        <label for="a1505341672337"><p>Take row one of B, column two of B, and calculate the dot product</p></label>
      </div>
  </form>

  <details>
    <summary><strong>SOLUTION:</strong></summary>
    Take row one of A, column two of B, and calculate the dot product
  </details>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <p>You can see in the visualization below how to calculate the value in row one, column two.</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <figure class="figure">
    <img src="img/matrix-multiplication-step2.png" alt="" class="img img-fluid">
    <figcaption class="figure-caption">
      
    </figcaption>
  </figure>
</div>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <p>Jumping ahead, here is how you would calculate row two, column four. You would need the second row of matrix <span class="mathquill ud-math">\mathbf{A}</span> and the fourth column of <span class="mathquill ud-math">\mathbf{B}</span>.</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <figure class="figure">
    <img src="img/matrix-multiplication-step4.png" alt="" class="img img-fluid">
    <figcaption class="figure-caption">
      
    </figcaption>
  </figure>
</div>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <p>Continuing with the process, you end up with <br />
<span class="mathquill ud-math">\begin{bmatrix}1019 & 1003 & 97 & 279 &  1208 & 576 \\2001 & 7960 & 408 & 846 & 783 & 1029 \\1927 & 5612 & 357 & 1114 & 3879 & 1121\end{bmatrix}</span></p>
<p>Now it's your turn to code matrix multiplication in Python.</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h3 id="coding-matrix-multiplication">Coding Matrix Multiplication</h3>
<p>Writing code for matrix multiplication can be quite tricky. So you are going to build the solution in pieces. The good news is that coding matrix multiplication is a big part of this module's final project.</p>
<p>Think about what matrix multiplication involves. You will multiply two matrices with sizes</p>
<ul>
<li>m x n</li>
<li>n x p</li>
</ul>
<p>and output a matrix of size m x p.</p>
<p>In previous exercises, you already iterated through matrices using nested for loops. How could you use a nested for loop to calculate each element in the m x p matrix? And then once you have grabbed the necessary row in A and the necessary column in B, how will you combine the values to get the right answer?</p>
<p>The next page has an Ipython notebook where you can write your code.</p>
</div>

</div>
<div class="divider"></div>
          </div>

          <div class="col-12">
            <p class="text-right">
              <a href="27. Coding Matrix Multiplication.html" class="btn btn-outline-primary mt-4" role="button">Next Concept</a>
            </p>
          </div>
        </div>
      </main>

      <footer class="footer">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <p class="text-center">
                <a href="https://github.com/udacimak/udacimak#readme" target="_blank">udacimak v1.6.6</a>
              </p>
            </div>
          </div>
        </div>
      </footer>
    </div>
  </div>


  <script src="../assets/js/jquery-3.3.1.min.js"></script>
  <script src="../assets/js/plyr.polyfilled.min.js"></script>
  <script src="../assets/js/bootstrap.min.js"></script>
  <script src="../assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
  <script src="../assets/js/katex.min.js"></script>
  <script>
    // Initialize Plyr video players
    const players = Array.from(document.querySelectorAll('video')).map(p => new Plyr(p));

    // render math equations
    let elMath = document.getElementsByClassName('mathquill');
    for (let i = 0, len = elMath.length; i < len; i += 1) {
      const el = elMath[i];

      katex.render(el.textContent, el, {
        throwOnError: false
      });
    }

    // this hack will make sure Bootstrap tabs work when using Handlebars
    if ($('#question-tabs').length && $('#user-answer-tabs').length) {
      $("#question-tabs a.nav-link").on('click', function () {
        $("#question-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
      $("#user-answer-tabs a.nav-link").on('click', function () {
        $("#user-answer-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
    } else {
      $("a.nav-link").on('click', function () {
        $(".tab-pane").hide();
        $($(this).attr("href")).show();
      });
    }

    // side bar events
    $(document).ready(function () {
      $("#sidebar").mCustomScrollbar({
        theme: "minimal"
      });

      $('#sidebarCollapse').on('click', function () {
        $('#sidebar, #content').toggleClass('active');
        $('.collapse.in').toggleClass('in');
        $('a[aria-expanded=true]').attr('aria-expanded', 'false');
      });

      // scroll to first video on page loading
      if ($('video').length) {
        $('html,body').animate({ scrollTop: $('div.plyr').prev().offset().top});
      }

      // auto play first video: this may not work with chrome/safari due to autoplay policy
      if (players && players.length > 0) {
        players[0].play();
      }

      // scroll sidebar to current concept
      const currentInSideBar = $( "ul.sidebar-list.components li a:contains('26. Matrix Multiplication')" )
      currentInSideBar.css( "text-decoration", "underline" );
      $("#sidebar").mCustomScrollbar('scrollTo', currentInSideBar);
    });
  </script>
</body>

</html>
