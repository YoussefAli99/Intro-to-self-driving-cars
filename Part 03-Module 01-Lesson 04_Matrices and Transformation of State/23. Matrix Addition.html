<!-- udacimak v1.6.6 -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Matrix Addition</title>
  <link rel="stylesheet" href="../assets/css/bootstrap.min.css">
  <link rel="stylesheet" href="../assets/css/plyr.css">
  <link rel="stylesheet" href="../assets/css/katex.min.css">
  <link rel="stylesheet" href="../assets/css/jquery.mCustomScrollbar.min.css">
  <link rel="stylesheet" href="../assets/css/styles.css">
  <link rel="shortcut icon" type="image/png" href="../assets/img/udacimak.png" />
</head>

<body>
  <div class="wrapper">
    <nav id="sidebar">
  <div class="sidebar-header">
    <h3>Matrices and Transformation of State</h3>
  </div>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled components">
    <li class="">
      <a href="01. Connection to Kalman Filters.html">01. Connection to Kalman Filters</a>
    </li>
    <li class="">
      <a href="02. Kalman Prediction.html">02. Kalman Prediction</a>
    </li>
    <li class="">
      <a href="03. Kalman Filter Land.html">03. Kalman Filter Land</a>
    </li>
    <li class="">
      <a href="04. Kalman Filter Prediction.html">04. Kalman Filter Prediction</a>
    </li>
    <li class="">
      <a href="05. Another Prediction.html">05. Another Prediction</a>
    </li>
    <li class="">
      <a href="06. More Kalman Filters.html">06. More Kalman Filters</a>
    </li>
    <li class="">
      <a href="07. A Note on Notation.html">07. A Note on Notation</a>
    </li>
    <li class="">
      <a href="08. Kalman Filter Design.html">08. Kalman Filter Design</a>
    </li>
    <li class="">
      <a href="09. Let&#x27;s Look at Where we Are.html">09. Let&#x27;s Look at Where we Are</a>
    </li>
    <li class="">
      <a href="10. The Kalman Filter Equations.html">10. The Kalman Filter Equations</a>
    </li>
    <li class="">
      <a href="11. Simplifying the Kalman Filter Equations.html">11. Simplifying the Kalman Filter Equations</a>
    </li>
    <li class="">
      <a href="12. The Rest of the Lesson.html">12. The Rest of the Lesson</a>
    </li>
    <li class="">
      <a href="13. Representing State with Matrices.html">13. Representing State with Matrices</a>
    </li>
    <li class="">
      <a href="14. Kalman Equation Reference.html">14. Kalman Equation Reference</a>
    </li>
    <li class="">
      <a href="15. What is a vector.html">15. What is a vector?</a>
    </li>
    <li class="">
      <a href="16. Vectors in Python.html">16. Vectors in Python</a>
    </li>
    <li class="">
      <a href="17. Coding Vectors.html">17. Coding Vectors</a>
    </li>
    <li class="">
      <a href="18. Coding Vectors (solution).html">18. Coding Vectors (solution)</a>
    </li>
    <li class="">
      <a href="19. Guide to Mathematical Notation.html">19. Guide to Mathematical Notation</a>
    </li>
    <li class="">
      <a href="20. Matrices in Python.html">20. Matrices in Python</a>
    </li>
    <li class="">
      <a href="21. Coding Matrices.html">21. Coding Matrices</a>
    </li>
    <li class="">
      <a href="22. Coding Matrices (Solution).html">22. Coding Matrices (Solution)</a>
    </li>
    <li class="">
      <a href="23. Matrix Addition.html">23. Matrix Addition</a>
    </li>
    <li class="">
      <a href="24. Coding Matrix Addition.html">24. Coding Matrix Addition</a>
    </li>
    <li class="">
      <a href="25. Coding Matrix Addition (Solution).html">25. Coding Matrix Addition (Solution)</a>
    </li>
    <li class="">
      <a href="26. Matrix Multiplication.html">26. Matrix Multiplication</a>
    </li>
    <li class="">
      <a href="27. Coding Matrix Multiplication.html">27. Coding Matrix Multiplication</a>
    </li>
    <li class="">
      <a href="28. Coding Matrix Multiplication (Solution).html">28. Coding Matrix Multiplication (Solution)</a>
    </li>
    <li class="">
      <a href="29. Transpose of a Matrix.html">29. Transpose of a Matrix</a>
    </li>
    <li class="">
      <a href="30. Coding the Transpose.html">30. Coding the Transpose</a>
    </li>
    <li class="">
      <a href="31. Coding the Transpose (Solution).html">31. Coding the Transpose (Solution)</a>
    </li>
    <li class="">
      <a href="32. The Identity Matrix.html">32. The Identity Matrix</a>
    </li>
    <li class="">
      <a href="33. Coding Identity Matrix.html">33. Coding Identity Matrix</a>
    </li>
    <li class="">
      <a href="34. Coding Identity Matrix (Solution).html">34. Coding Identity Matrix (Solution)</a>
    </li>
    <li class="">
      <a href="35. Matrix Inverse.html">35. Matrix Inverse</a>
    </li>
    <li class="">
      <a href="36. Coding Matrix Inverse.html">36. Coding Matrix Inverse</a>
    </li>
    <li class="">
      <a href="37. Coding Matrix Inverse (Solution).html">37. Coding Matrix Inverse (Solution)</a>
    </li>
    <li class="">
      <a href="38. What to Take Away from this Lesson.html">38. What to Take Away from this Lesson</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>
</nav>

    <div id="content">
      <header class="container-fluild header">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <div class="align-items-middle">
                <button type="button" id="sidebarCollapse" class="btn btn-toggle-sidebar">
                  <div></div>
                  <div></div>
                  <div></div>
                </button>

                <h1 style="display: inline-block">23. Matrix Addition</h1>
              </div>
            </div>
          </div>
        </div>
      </header>

      <main class="container">
        <div class="row">
          <div class="col-12">
            <div class="ud-atom">
  <h3></h3>
  <div>
  <h1 id="matrix-addition">Matrix Addition</h1>
<p>In order to use the Kalman Filter equations, you will need to do matrix addition.</p>
<p>For example, the equation for calculating the error covariance matrix after the prediction step includes matrix addition:</p>
<p><span class="mathquill ud-math">\mathbf{P_{k|k-1}} = \mathbf{F_{k}} \mathbf{P_{k-1|k-1}} \mathbf{F_{k}^T}  + \mathbf{Q_{k}}</span></p>
<p>or, using our simplified notation:</p>
<p><span class="mathquill ud-math">\mathbf{P}' = \mathbf{F} \mathbf{P} \mathbf{F^T}  + \mathbf{Q}</span></p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h3 id="matrix-addition-general-formula">Matrix Addition General Formula</h3>
<p>As a reminder, this is the general formula for carrying out matrix addition:</p>
<p><span class="mathquill ud-math">\mathbf{A} + \mathbf{B} = \begin{bmatrix}a_{11} & a_{12}  & \ldots  & a_{1n}\\ a_{21} & a_{22}  & \ldots &a_{2n} \\\vdots & \vdots & \ddots  & \vdots \\a_{m1} & a_{m2}  & \ldots  & a_{mn}\end{bmatrix} + \begin{bmatrix}b_{11} & b_{12}  & \ldots  & b_{1n}\\ b_{21} & b_{22}  & \ldots &b_{2n} \\ \vdots & \vdots  & \ddots  & \vdots \\ b_{m1} & b_{m2}  &  \ldots & b_{mn}\end{bmatrix}</span></p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <p><span class="mathquill ud-math">= \begin{bmatrix}a_{11}+b_{11} & a_{12}+b_{12}  & \ldots  & a_{1n}+b_{1n} \\ a_{21}+b_{21} & a_{22}+b_{22}  & \ldots & a_{2n}+b_{2n} \\ \vdots & \vdots  & \ddots  & \vdots \\ a_{m1}+b_{m1} & a_{m2}+b_{m2}  &  \ldots & a_{mn}+b_{mn}\end{bmatrix}</span></p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <p>The first element of matrix A is added to the first element of matrix B. The second element gets added to the second element, etc. </p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h3 id="matrix-addition-concrete-example">Matrix Addition Concrete Example</h3>
<p>Here is a concrete example of matrix addition:</p>
<p><span class="mathquill ud-math">\mathbf{A} + \mathbf{B} =\begin{bmatrix}17&25&6&2&16\\6&1&97&4&22\\80&8&54&15&65\\11&25&68&9&2\end{bmatrix}+\begin{bmatrix}3&14&1&7&42\\32&11&2&4&18\\19&81&4&8&5\\27&2&3&6&7\end{bmatrix} = \begin{bmatrix}20&39&7&9&58\\38&12&99&8&40\\99&89&58&23&70\\38&27&71&15&9\end{bmatrix}</span></p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <p>The graphic below shows how to calculate the sum. You take an element in matrix A and then add the matching element in matrix B that has the same position. </p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <figure class="figure">
    <img src="img/matrix-addition.png" alt="" class="img img-fluid">
    <figcaption class="figure-caption">
      
    </figcaption>
  </figure>
</div>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <p>The top left element in matrix A is 17 and the top left element in matrix B is 3. The sum is 20, so the top left element of the resulting matrix is 20.</p>
<p>Here is another example: The second row third column A value is 97. The second row third column B value is 2. The sum is 99, so the second row third column resulting matrix has the value 99.</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h3 id="characteristics-of-matrix-addition">Characteristics of Matrix Addition</h3>
<p>You will notice an important characteristic about matrix addition: the size of matrix A and matrix B need to be the same; in other words, they need the same number of rows and the same number of columns. If you go back to the Kalman Filter prediction equation shown at the top of the page, <span class="mathquill ud-math">\mathbf{P_{k|k-1}} = \mathbf{F_{k}} \mathbf{P_{k-1|k-1}} \mathbf{F_{k}^T}  + \mathbf{Q_{k}}</span>,</p>
<p>this means that the matrix <span class="mathquill ud-math">\mathbf{Q_{k}}</span> must be the same size as the matrix that results from multiplying <span class="mathquill ud-math"> \mathbf{F_{k}} \mathbf{P_{k-1|k-1}} \mathbf{F_{k}^T} </span>.</p>
<p>Furthermore, the sum of two matrices will have the same size as well. So <span class="mathquill ud-math">\mathbf{P_{k|k-1}} \text{as well as } \mathbf{Q_{k}}</span> must have the same number of rows and columns.</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h3 id="matrix-subtraction">Matrix Subtraction</h3>
<p>To subtract two matrices, the same rules apply. To find <span class="mathquill ud-math">\mathbf{A} - \mathbf{B}</span>, you would subtract an element from B from its corresponding element in A.</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h3 id="coding-matrix-addition">Coding Matrix Addition</h3>
<p>Matrix addition involves adding elements from the same position. So for S = matrix A + matrix B, you would need to do operations like these:</p>
<pre><code class="python language-python">S[0][0] = A[0][0] + B[0][0]
S[0][1] = A[0][1] + B[0][1]
S[0][2] = A[0][2] + B[0][2]
S[0][3] = A[0][3] + B[0][3]
.... etc

S[1][0] = A[1][0] + B[1][0]
S[1][1] = A[1][1] + B[1][1]
...etc.</code></pre>
<p>However, this code isn't very efficient for a number of reasons. You would have to write a line of code for every element in the matrix. If a matrix had 5 rows and 4 columns, you would need to write 20 lines of code. Another problem is that you won't always know beforehand how large your matrices will be. Your code might need to accommodate summing 5x4 matrices. But then your might also need to sum 10x2 matrices and any number of other configurations. </p>
<p>This is a perfect place to use nested for loops. </p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h3 id="using-for-loops-to-code-matrix-addition">Using For Loops to Code Matrix Addition</h3>
<p>In the previous exercises, you wrote code to do scalar multiplication. You also wrote a function that prints out a matrix. </p>
<p>The code for matrix addition is very similar. So try to do it on your own in the IPython notebook exercises on the next page.</p>
</div>

</div>
<div class="divider"></div>
          </div>

          <div class="col-12">
            <p class="text-right">
              <a href="24. Coding Matrix Addition.html" class="btn btn-outline-primary mt-4" role="button">Next Concept</a>
            </p>
          </div>
        </div>
      </main>

      <footer class="footer">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <p class="text-center">
                <a href="https://github.com/udacimak/udacimak#readme" target="_blank">udacimak v1.6.6</a>
              </p>
            </div>
          </div>
        </div>
      </footer>
    </div>
  </div>


  <script src="../assets/js/jquery-3.3.1.min.js"></script>
  <script src="../assets/js/plyr.polyfilled.min.js"></script>
  <script src="../assets/js/bootstrap.min.js"></script>
  <script src="../assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
  <script src="../assets/js/katex.min.js"></script>
  <script>
    // Initialize Plyr video players
    const players = Array.from(document.querySelectorAll('video')).map(p => new Plyr(p));

    // render math equations
    let elMath = document.getElementsByClassName('mathquill');
    for (let i = 0, len = elMath.length; i < len; i += 1) {
      const el = elMath[i];

      katex.render(el.textContent, el, {
        throwOnError: false
      });
    }

    // this hack will make sure Bootstrap tabs work when using Handlebars
    if ($('#question-tabs').length && $('#user-answer-tabs').length) {
      $("#question-tabs a.nav-link").on('click', function () {
        $("#question-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
      $("#user-answer-tabs a.nav-link").on('click', function () {
        $("#user-answer-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
    } else {
      $("a.nav-link").on('click', function () {
        $(".tab-pane").hide();
        $($(this).attr("href")).show();
      });
    }

    // side bar events
    $(document).ready(function () {
      $("#sidebar").mCustomScrollbar({
        theme: "minimal"
      });

      $('#sidebarCollapse').on('click', function () {
        $('#sidebar, #content').toggleClass('active');
        $('.collapse.in').toggleClass('in');
        $('a[aria-expanded=true]').attr('aria-expanded', 'false');
      });

      // scroll to first video on page loading
      if ($('video').length) {
        $('html,body').animate({ scrollTop: $('div.plyr').prev().offset().top});
      }

      // auto play first video: this may not work with chrome/safari due to autoplay policy
      if (players && players.length > 0) {
        players[0].play();
      }

      // scroll sidebar to current concept
      const currentInSideBar = $( "ul.sidebar-list.components li a:contains('23. Matrix Addition')" )
      currentInSideBar.css( "text-decoration", "underline" );
      $("#sidebar").mCustomScrollbar('scrollTo', currentInSideBar);
    });
  </script>
</body>

</html>
